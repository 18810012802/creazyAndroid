package svg.jb.genemap.next.model.deviceTypes;

import svg.jb.genemap.next.model.DeviceType;
import svg.jb.genemap.next.service.DeviceInfoList;
import svg.jb.genemap.next.view.Main;

public class TransformerInfo extends DeviceInfo {

	private int connNum;
	public int getConnNum() {
		return connNum;
	}

	public void setConnNum(int connNum) {
		this.connNum = connNum;
	}

	public TransformerInfo(){
		setType(DeviceType.TRANSFORMER);
		setSvgStr(svgStr());
	}

	@Override
	public String svgStr() {
		// TODO Auto-generated method stub
		
		String twoTranCode="<g id='图层_2' transform='matrix(1,0,0,1,"+getX()+","+getY()+")' xmlns='http://www.w3.org/2000/svg'><g>\n" +
				"<path fill='#027871' d='M20.582,15.998C22.064,14.61,23,12.63,23,10.429c0-4.017-3.098-7.306-7-7.568V0.506&#xD;\n" +
				"C16,0.227,15.776,0,15.5,0S15,0.227,15,0.506V2.86c-3.902,0.262-7,3.551-7,7.568c0,2.202,0.936,4.181,2.418,5.569&#xD;\n" +
				"C8.936,17.387,8,19.366,8,21.567c0,4.017,3.098,7.307,7,7.569v2.356C15,31.773,15.224,32,15.5,32s0.5-0.227,0.5-0.507v-2.356&#xD;\n" +
				"c3.902-0.263,7-3.553,7-7.569C23,19.366,22.064,17.387,20.582,15.998z M9,10.429c0-3.629,2.916-6.582,6.5-6.582S22,6.8,22,10.429&#xD;\n" +
				"c0,1.96-0.855,3.718-2.202,4.925c-1.219-0.867-2.699-1.38-4.298-1.38c-1.599,0-3.08,0.513-4.298,1.38&#xD;\n" +
				"C9.855,14.146,9,12.389,9,10.429z M18.948,15.998c-1.001,0.638-2.181,1.013-3.448,1.013s-2.447-0.375-3.448-1.013&#xD;\n" +
				"c1-0.637,2.181-1.012,3.448-1.012S17.947,15.361,18.948,15.998z M15.5,28.149c-3.584,0-6.5-2.953-6.5-6.582&#xD;\n" +
				"c0-1.96,0.855-3.718,2.202-4.924c1.218,0.867,2.699,1.38,4.298,1.38c1.599,0,3.079-0.514,4.298-1.38&#xD;\n" +
				"C21.145,17.85,22,19.607,22,21.567C22,25.196,19.084,28.149,15.5,28.149z' />\n" +
				"<path fill='#027871' d='M16.782,7.938c0.187-0.189,0.439-0.283,0.753-0.283c0.344,0,0.666,0.102,0.967,0.305&#xD;\n" +
				"c0.301,0.203,0.451,0.58,0.451,1.131c0,0.435-0.107,0.79-0.322,1.066c-0.215,0.275-0.623,0.544-1.225,0.805l0.086,0.217&#xD;\n" +
				"l1.762-0.174c-0.115-0.059-0.193-0.124-0.236-0.196c-0.043-0.073-0.064-0.152-0.064-0.239c0-0.116,0.057-0.305,0.172-0.566&#xD;\n" +
				"c0.086-0.261,0.129-0.537,0.129-0.827c0-0.667-0.193-1.182-0.58-1.544c-0.387-0.363-0.795-0.544-1.225-0.544&#xD;\n" +
				"c-0.544,0-0.946,0.145-1.203,0.435c-0.258,0.29-0.559,0.827-0.902,1.61c-0.258,0.58-0.523,1.008-0.795,1.284&#xD;\n" +
				"c-0.272,0.275-0.551,0.413-0.837,0.413c-0.544,0-0.96-0.124-1.246-0.37c-0.287-0.247-0.43-0.617-0.43-1.109&#xD;\n" +
				"c0-0.464,0.136-0.878,0.408-1.24c0.272-0.363,0.766-0.646,1.482-0.849L13.84,7.003l-2.105,0.348&#xD;\n" +
				"c0.086,0.116,0.157,0.217,0.215,0.304c0.057,0.087,0.086,0.174,0.086,0.261c0,0.145-0.043,0.348-0.129,0.609&#xD;\n" +
				"c-0.115,0.232-0.172,0.493-0.172,0.783c0,0.696,0.201,1.225,0.603,1.588c0.402,0.362,0.862,0.544,1.379,0.544&#xD;\n" +
				"c0.488,0,0.912-0.152,1.271-0.457c0.358-0.305,0.677-0.805,0.956-1.501C16.316,8.642,16.595,8.126,16.782,7.938z' />\n" +
				"<path fill='#027871' d='M19.26,22.538c0-0.668-0.193-1.183-0.58-1.544c-0.387-0.364-0.795-0.544-1.225-0.544&#xD;\n" +
				"c-0.544,0-0.945,0.145-1.203,0.435c-0.258,0.289-0.559,0.827-0.902,1.61c-0.258,0.579-0.523,1.007-0.795,1.283&#xD;\n" +
				"c-0.272,0.275-0.551,0.413-0.837,0.413c-0.544,0-0.96-0.124-1.246-0.369c-0.287-0.248-0.43-0.617-0.43-1.11&#xD;\n" +
				"c0-0.464,0.136-0.878,0.408-1.239c0.272-0.364,0.766-0.647,1.482-0.849l-0.086-0.261l-2.105,0.348&#xD;\n" +
				"c0.086,0.114,0.157,0.218,0.215,0.305c0.057,0.087,0.086,0.174,0.086,0.261c0,0.145-0.043,0.349-0.129,0.609&#xD;\n" +
				"c-0.115,0.231-0.172,0.492-0.172,0.783c0,0.696,0.201,1.225,0.603,1.588c0.402,0.362,0.862,0.544,1.379,0.544&#xD;\n" +
				"c0.488,0,0.912-0.152,1.271-0.457c0.358-0.305,0.677-0.805,0.956-1.501c0.373-0.843,0.652-1.356,0.838-1.545&#xD;\n" +
				"c0.187-0.189,0.438-0.282,0.753-0.282c0.344,0,0.666,0.101,0.967,0.305c0.301,0.201,0.451,0.579,0.451,1.131&#xD;\n" +
				"c0,0.436-0.107,0.789-0.322,1.066c-0.215,0.274-0.623,0.544-1.225,0.805l0.086,0.218l1.762-0.174&#xD;\n" +
				"c-0.114-0.06-0.193-0.125-0.236-0.196c-0.043-0.073-0.064-0.152-0.064-0.239c0-0.116,0.058-0.305,0.172-0.565&#xD;\n" +
				"C19.217,23.104,19.26,22.827,19.26,22.538z' />" +
				"</g>\n" +
				"</g>\n";
		
		String threeTranCode="<g transform='matrix(1,0,0,1,"+(getX()+6)+","+getY()+")' xmlns='http://www.w3.org/2000/svg'>\n" +
				"<path fill='#027871' d='M29.035,10.743c0.081-4.076-2.896-7.48-6.727-7.829V0.515c0-0.285-0.224-0.515-0.5-0.515\n" +
				"	s-0.5,0.23-0.5,0.515v2.379c-2.253,0.115-4.255,1.312-5.537,3.107c-1.221-1.72-3.109-2.891-5.272-3.088V0.515\n" +
					"C10.5,0.23,10.276,0,10,0S9.5,0.23,9.5,0.515v2.379c-3.818,0.195-6.932,3.491-7.013,7.527c-0.08,4.037,2.842,7.418,6.62,7.819\n" +
					"c-0.406,0.925-0.645,1.943-0.666,3.016c-0.08,4.074,2.898,7.479,6.728,7.829v2.399c0,0.284,0.224,0.515,0.5,0.515\n" +
					"s0.5-0.23,0.5-0.515v-2.379c3.814-0.195,6.923-3.492,7.003-7.528c0.023-1.193-0.222-2.325-0.666-3.345\n" +
					"C26.102,17.799,28.959,14.608,29.035,10.743z M3.487,10.443c0.072-3.604,2.928-6.538,6.367-6.538l0.135,0.001\n" +
					"c2.185,0.048,4.091,1.25,5.204,3.037c-0.541,1.042-0.862,2.224-0.887,3.479c-0.024,1.193,0.222,2.325,0.666,3.344\n" +
					"c-2.225,0.269-4.162,1.596-5.338,3.484C6.165,17.123,3.415,14.091,3.487,10.443z M16.225,10.722\n" +
					"c-0.016,0.824-0.184,1.61-0.465,2.337c-0.309-0.808-0.472-1.692-0.453-2.617c0.016-0.824,0.184-1.61,0.464-2.337\n" +
					"C16.08,8.914,16.243,9.798,16.225,10.722z M14.743,14.844c-0.955,1.197-2.298,2.038-3.816,2.312\n" +
					"C11.882,15.958,13.226,15.118,14.743,14.844z M15.814,28.095l-0.134-0.002c-3.512-0.078-6.311-3.135-6.238-6.814\n" +
					"c0.022-1.085,0.3-2.106,0.766-3.009c2.259-0.113,4.268-1.31,5.552-3.107c1.294,1.824,3.336,3.037,5.662,3.117\n" +
					"c0.498,0.977,0.774,2.094,0.751,3.277C22.101,25.162,19.25,28.095,15.814,28.095z M16.763,14.823\n" +
					"c1.587,0.251,2.978,1.115,3.952,2.354C19.128,16.925,17.737,16.062,16.763,14.823z M21.995,17.24\n" +
					"c-1.181-1.91-3.15-3.239-5.433-3.483c0.405-0.924,0.644-1.943,0.664-3.015c0.027-1.372-0.295-2.666-0.876-3.795\n" +
					"c1.142-1.825,3.105-3.042,5.313-3.042l0.135,0.001c3.513,0.077,6.311,3.134,6.237,6.815\n" +
					"C27.966,14.211,25.286,17.063,21.995,17.24z'/>\n" +
				"<path fill='#027871' d='M24.984,7.903l-3.316,2.005l-3.315-2.005c-0.235-0.144-0.544-0.064-0.685,0.184\n" +
					"c-0.14,0.245-0.06,0.561,0.179,0.705l3.321,2.008v4.021c0,0.285,0.224,0.515,0.5,0.515s0.5-0.23,0.5-0.515V10.8l3.322-2.008\n" +
					"c0.238-0.144,0.318-0.459,0.179-0.705C25.527,7.839,25.219,7.759,24.984,7.903z'/>\n" +
				"<path fill='#027871' d='M19.12,18.737l-3.306,2.004l-3.317-2.005c-0.238-0.141-0.544-0.063-0.684,0.184\n" +
					"c-0.14,0.246-0.06,0.561,0.178,0.705l3.323,2.01v4.02c0,0.285,0.224,0.516,0.5,0.516s0.5-0.23,0.5-0.516v-4.021l3.313-2.01\n" +
					"c0.238-0.144,0.317-0.459,0.177-0.705S19.357,18.593,19.12,18.737z'/>\n" +
				"<path fill='#027871' d='M11.918,13.254c0.106,0,0.21-0.035,0.297-0.101c0.127-0.097,0.203-0.251,0.203-0.414V8.425\n" +
					"c0-0.163-0.075-0.317-0.203-0.414c-0.127-0.097-0.292-0.125-0.443-0.079L7.65,9.226C7.386,9.309,7.237,9.597,7.317,9.87\n" +
					"c0.081,0.271,0.358,0.423,0.625,0.342l3.476-1.091v2.924l-3.477-1.092c-0.264-0.081-0.543,0.071-0.624,0.343\n" +
					"c-0.08,0.272,0.069,0.56,0.333,0.643l4.122,1.294C11.82,13.247,11.869,13.254,11.918,13.254z'/>\n" +
	"</g>\n";
		String assistLine="<path fill='#027871' d='M31.16,15H0.839C0.375,15,0,15.536,0,16s0.376,1,0.84,1H31.16c0.463,0,0.84-0.536,0.84-1S31.623,15,31.16,15&#xD;\n" +
				"z' transform='matrix("+(DeviceInfoList.maxBreakerNumForAllHigh*DeviceInfoList.breakerToBreakerDistance-4)/getWidth()+",0,0,1,"+(getX()+27)+","+(getY()-getHeight()/2)+")' xmlns='http://www.w3.org/2000/svg' />";
		if(getConnNum()==3){
			return threeTranCode+assistLine;
		}
		return twoTranCode;
	}
	public DeviceInfo withALineStr(DeviceInfo deviceInfo){
		double wholeWidth=Main.canvasWidth;
		double x=getX();
		double xv=x;
		double y=getY()+deviceInfo.getHeight()+50;
		if(DeviceInfoList.transCount==1){
			x=x-48;
			xv=x-15;
		}else if(DeviceInfoList.transCount==2){
			x=x+15;
			xv=x+47;
		}
		String strBottom = "<path fill=\"#027871\" d=\"M16,0c-0.55,0-1,0.45-1,1v30c0,0.55,0.45,1,1,1s1-0.45,1-1V1C17,0.45,16.55,0,16,0z\"" +
				" transform=\"matrix(1,0,0,2,"+getX()+","+(getY()+deviceInfo.getHeight())+")\" xmlns=\"http://www.w3.org/2000/svg\" />\n";
		String strH = "<path fill='#027871' d='M31.16,15H0.839C0.375,15,0,15.536,0,16s0.376,1,0.84,1H31.16c0.463,0,0.84-0.536,0.84-1S31.623,15,31.16,15&#xD;\n" +
				"z' transform='matrix(2,0,0,1,"+x+","+y+")' xmlns='http://www.w3.org/2000/svg' />";
		String strV = "<path fill=\"#027871\" d=\"M16,0c-0.55,0-1,0.45-1,1v30c0,0.55,0.45,1,1,1s1-0.45,1-1V1C17,0.45,16.55,0,16,0z\"" +
				" transform=\"matrix(1,0,0,7,"+xv+","+(y+45-30)+")\" xmlns=\"http://www.w3.org/2000/svg\" />\n";
		String strHB = "<path fill='#027871' d='M31.16,15H0.839C0.375,15,0,15.536,0,16s0.376,1,0.84,1H31.16c0.463,0,0.84-0.536,0.84-1S31.623,15,31.16,15&#xD;\n" +
				"z' transform='matrix(2,0,0,1,"+x+","+(y+17+207)+")' xmlns='http://www.w3.org/2000/svg' />";
		//String strH = "";
		//String strV= "";
		
		deviceInfo.setSvgStr(deviceInfo.getSvgStr()+strBottom+strH+strV+strHB);
		return deviceInfo;
	}
	
}
